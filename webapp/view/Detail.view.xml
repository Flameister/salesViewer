<mvc:View 
	xmlns="sap.m" 
	xmlns:vbm="sap.ui.vbm" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns:semantic="sap.m.semantic"
	xmlns:l="sap.ui.layout"
	xmlns:footerbar="sap.ushell.ui.footerbar" 
	xmlns:form="sap.ui.layout.form"
	controllerName="salesviewer.controller.Detail">

	<semantic:DetailPage id="page" navButtonPress="onNavBack" showNavButton="{device>/system/phone}" title="{i18n>detailTitle}" busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}">

		<semantic:content>
			<ObjectHeader id="objectHeader" title="{CompanyName}" responsive="true">
			</ObjectHeader>
			<IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding" expanded="false">
				<items>
					<IconTabFilter id="iconTabBarFilter1" icon="sap-icon://company-view" tooltip="{i18n>detailIconTabBarInfo}">
					<content>
						<l:HorizontalLayout>
							<Panel
							class="sapUiResponsiveMargin"
							width="auto"
							headerText="{i18n>detailFormTitle}"
							expandable="{device>/system/phone}">
								<content>
									<form:SimpleForm id="objectForm">
										<form:content>
											<Label text="{i18n>detailContactAddress}"/>
											<Text text="{Address/Street} {Address/Building}"/>
											<Label text="{i18n>detailContactPO}"/>
											<Text text="{Address/PostalCode}"/>
											<Label text="{i18n>detailContactCity}"/>
											<Text text="{Address/City}"/>
											<Label text="{i18n>detailContactCountry}"/>
											<Text text="{Address/Country}"/>
										</form:content>
									</form:SimpleForm>
								</content>
							</Panel>
							<Panel
								class="sapUiResponsiveMargin"
								width="auto"
								headerText="{i18n>detailMapTitle}">
								<Image src="{
									parts: [
										'Address/Street',
										'Address/Building',
										'Address/PostalCode',
										'Address/City',
										'Address/Country'
									],
									formatter: '.formatter.formatMapUrl'
								}" />
							</Panel>
						</l:HorizontalLayout>
						    
					</content>
					</IconTabFilter>
					<IconTabFilter id="iconTabBarFilter2" icon="sap-icon://attachment" tooltip="{i18n>detailIconTabBarAttachments}" visible="false">
					</IconTabFilter>
				</items>
			</IconTabBar>
			<Table id="lineItemsList" width="auto" items="{ToSalesOrders}" updateFinished="onListUpdateFinished" noDataText="{i18n>detailLineItemTableNoDataText}" busyIndicatorDelay="{detailView>/lineItemTableDelay}" class="sapUiResponsiveMargin">
				<headerToolbar>
					<Toolbar id="lineItemsToolbar">
						<Title id="lineItemsHeader" text="{detailView>/lineItemListTitle}"/>
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column>
						<Text text="{i18n>detailLineItemTableID}"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
						<Text text="{i18n>detailLineItemTableBrutto}"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
						<Text text="{i18n>detailLineItemTableNetto}"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
						<Text text="{i18n>detailLineItemTableTax}"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
						<Text text="{i18n>detailLineItemTableCurrency}"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem press="onSalesOrderPress" type="Active">
						<cells>
							<ObjectNumber number="{= parseFloat(${SalesOrderID}) }"/>
							<ObjectNumber number="{path: 'GrossAmount', type: 'sap.ui.model.type.Float', formatOptions: {
							groupingEnabled: true, groupingSeparator:' '}}" state="{path: 'GrossAmount', formatter: '.formatter.overValueDetail'}"/>
							<ObjectNumber number="{path: 'NetAmount', type: 'sap.ui.model.type.Float', formatOptions: {
							groupingEnabled: true, groupingSeparator:' '}}"/>
							<ObjectNumber number="{path: 'TaxAmount', type: 'sap.ui.model.type.Float', formatOptions: {
							groupingEnabled: true, groupingSeparator:' '}}"/>
							<Label text="{CurrencyCode}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</semantic:content>

	</semantic:DetailPage>

</mvc:View>